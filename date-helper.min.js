Date.prototype.getDOY=function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil((this-a)/864E5)+1};Date.prototype.getWeekNumber=function(){var a=new Date(+this);a.setHours(0,0,0);a.setDate(a.getDate()+4-(a.getDay()||7));return Math.ceil(((a-new Date(a.getFullYear(),0,1))/864E5+1)/7)}; Date.prototype.strftime=function(a){a=a.replace(/%a/g,"Sun Mon Tue Wed Thu Fri Sat Sun".split(" ")[this.getDay()]);a=a.replace(/%A/g,"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" ")[this.getDay()]);a=a.replace(/%d/g,10>this.getDate()?"0"+this.getDate():this.getDate());a=a.replace(/%e/g,10>this.getDate()?" "+this.getDate():this.getDate());a=a.replace(/%j/g,100>this.getDOY()&&10<this.getDOY()?"0"+this.getDOY():10>this.getDOY()?"00"+this.getDOY():this.getDOY());day=this.getDay(); day=0==day&&7;a=a.replace(/%u/g,day);a=a.replace(/%w/g,this.getDay());a=a.replace(/%U/g,this.getWeekNumber());a=a.replace(/%b/g,"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[this.getMonth()]);a=a.replace(/%B/g,"January February Mararch April May June July August September October November December".split(" ")[this.getMonth()]);a=a.replace(/%m/g,10>this.getMonth()+1?"0"+(this.getMonth()+1):this.getMonth()+1);a=a.replace(/%C/g,Math.floor(this.getFullYear()/100+1,0));a=a.replace(/%g/g, this.getFullYear().toString().substr(2,2));a=a.replace(/%G/g,this.getFullYear());a=a.replace(/%y/g,this.getFullYear().toString().substr(2,2));return a=a.replace(/%Y/g,this.getFullYear())};Date.prototype.getDaysInMonth=function(){var a=this.getMonth()+1,b=this.getFullYear();return/8|3|5|10/.test(--a)?30:1==a?(b%4||!(b%100))&&b%400?28:29:31};